plugins {
    id "java"
}

group "de.melanx.modlistcreator"
version "2.0.0"

repositories {
	mavenCentral()
	maven {
		url "https://jitpack.io"
	}
	maven {
		url "https://noeppi-noeppi.github.io/MinecraftUtilities/maven"
	}
}

configurations {
	shade
	implementation.extendsFrom shade
}
configurations.implementation.extendsFrom(configurations.shade)

dependencies {
	shade "io.github.noeppi_noeppi.tools:CurseWrapper:0.2"

	shade "com.atlassian.commonmark:commonmark:0.13.1"
	shade "net.sf.jopt-simple:jopt-simple:6.0-alpha-3"
}

java.toolchain.languageVersion = JavaLanguageVersion.of(17)

jar {
	manifest {
		attributes([
		        "Main-Class": "de.melanx.modlistcreator.ModListCreator"
		])
	}
	configurations.shade.each { dependency ->
		from(project.zipTree(dependency)) {
			exclude 'META-INF', 'META-INF/**'
		}
	}
}
